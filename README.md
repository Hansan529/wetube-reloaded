# Wetube

<div align="center">
<img src="https://github.com/Hansan529/wetube-reloaded/assets/115819770/1e996a73-6c75-4577-9974-c84742ba6669" />
</div>

# **í”„ë¡œì íŠ¸ ì •ë³´**

> 1ì¸ ê°œë°œ  
> ê°œë°œ ê¸°ê°„: **2023.01.24 ~ 2023.05.22**

## í™ˆí˜ì´ì§€ ë°°í¬ ì£¼ì†Œ

> í”„ë¡ íŠ¸ ì„œë²„: null  
> ë°±ì—”ë“œ ì„œë²„: https://wetube.hxan.net

> ë°±ì—”ë“œì—ì„œ ì •ì íŒŒì¼ì„ ì¶œë ¥í•˜ëŠ” í˜•íƒœë¡œ ë³„ë„ì˜ í”„ë¡ íŠ¸ìš© ì„œë²„ê°€ ì¡´ì¬í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.

## í”„ë¡œì íŠ¸ ì†Œê°œ

multer íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•´ ë¯¸ë””ì–´ í˜¹ì€ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ë¥¼ ì œì‘í•´ ë³´ê³ ì í•´ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.

í•œì‚°: @Hansan529 / ì›¹í¼ë¸”ë¦¬ì…” ë° í”„ë¡ íŠ¸ì—”ë“œ ìŠ¤í„°ë””

## í”„ë¡œì íŠ¸ ëª©í‘œ

1. ì‚¬ìš©ìê°€ ì‘ì„±í•œ ëŒ“ê¸€ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. ì œì‘ìê°€ ì—…ë¡œë“œí•œ ë™ì˜ìƒì„ í•´ë‹¹ ì œì‘ìì˜ í”„ë¡œí•„ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. ì†Œì…œ ë¡œê·¸ì¸ì„ í†µí•´ ê³„ì •ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

## ì½”ë“œ ë„ìš°ë¯¸

```zsh
$ git clone https://github.com/Hansan529/wetube-reloaded

$ npm install

$ npm start
```

### Package

- @ffmpeg/core: 0.11.0
- @ffmpeg/ffmpeg: 0.11.6
- axios: 1.4.0
- bcrypt: 5.1.0
- connect-mongo: 5.0.0
- cors: 2.8.5
- dotenv: 16.0.3
- express: 4.18.2
- express-flash: 0.0.2
- express-session: 1.17.3
- mongoose: 7.0.3
- morgan: 1.10.0
- multer: 1.4.5-lts.1
- nanoid: 3.0.0
- pug: 3.0.2
- @babel/cli: 7.21.5
- @babel/core: 7.21.4
- @babel/node: 7.20.7
- @babel/preset-env: 7.21.4
- babel-loader: 9.1.2
- css-loader: 6.7.3
- mini-css-extract-plugin: 2.7.5
- nodemon: 2.0.22
- sass: 1.62.1
- sass-loader: 13.2.2
- webpack: 5.81.0
- webpack-cli: 5.0.2

ê°œë°œ í™˜ê²½

- nodeJS
- SASS
- mongoDB

<br>

## ê¸°ìˆ  ìŠ¤íƒ

### Environment

![Visual Studio Code](https://img.shields.io/badge/visual%20studio%20code-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white)
![Git](https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white)
![Github](https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white)

### Config

![Yarn](https://img.shields.io/badge/yarn-2C8EBB?style=for-the-badge&logo=yarn&logoColor=white)

### Developement

![Javascript](https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=white)
![Node.js](https://img.shields.io/badge/node.js-339933?style=for-the-badge&logo=node.js&logoColor=white)
![Express](https://img.shields.io/badge/express-000000?style=for-the-badge&logo=express&logoColor=white)
![MongoDB](https://img.shields.io/badge/mongodb-47A248?style=for-the-badge&logo=mongodb&logoColor=white)
![Mongoose](https://img.shields.io/badge/mongoose-880000?style=for-the-badge&logo=mongoose&logoColor=white)

## í™”ë©´ êµ¬ì„±

- ë¡œê·¸ì¸
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-18 15 26 47](https://github.com/Hansan529/wetube-reloaded/assets/115819770/be21d55a-3f2c-4d7d-9641-1b4556fac9cb)

- íšŒì›ê°€ì…
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-18 15 26 55](https://github.com/Hansan529/wetube-reloaded/assets/115819770/1949bcb1-e968-4ff6-9e21-f8196732d615)

- ë™ì˜ìƒ
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-18 15 27 42](https://github.com/Hansan529/wetube-reloaded/assets/115819770/1722b242-a3ae-455d-a15c-4171d1612bb1)

- í”„ë¡œí•„ ìˆ˜ì •
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-18 15 27 55](https://github.com/Hansan529/wetube-reloaded/assets/115819770/cca91c79-a8d8-468a-934e-cd472b02d4ef)

- ìœ ì € í”„ë¡œí•„
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-18 15 28 07](https://github.com/Hansan529/wetube-reloaded/assets/115819770/20cc0db5-70f3-4583-b709-191a9fef9989)

<br>

## ì£¼ìš” ê¸°ëŠ¥

### í”„ë¡œì íŠ¸ ì •ë³´

- ì—…ë¡œë“œí•œ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì •ë³´ í™•ì¸ ë° ì†ŒìŠ¤ ì½”ë“œ ì œê³µ

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```zsh
â”œâ”€â”€ README.md
â”œâ”€â”€ babel.config.json
â”œâ”€â”€ nodemon.json
â”œâ”€â”€ package.json
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ client : ì‚¬ìš©ì ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ ë  ìŠ¤í¬ë¦½íŠ¸ ë° ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â”‚   â”œâ”€â”€ js
â”‚   â”‚   â”‚   â”œâ”€â”€ commentSection.js
â”‚   â”‚   â”‚   â”œâ”€â”€ editProfile.js
â”‚   â”‚   â”‚   â”œâ”€â”€ main.js
â”‚   â”‚   â”‚   â”œâ”€â”€ mediaQuery.js
â”‚   â”‚   â”‚   â”œâ”€â”€ recorder.js
â”‚   â”‚   â”‚   â”œâ”€â”€ videoPlayer.js
â”‚   â”‚   â”‚   â””â”€â”€ videoSetting.js
â”‚   â”‚   â””â”€â”€ scss
â”‚   â”‚       â”œâ”€â”€ components
â”‚   â”‚       â”‚   â”œâ”€â”€ footer.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ forms.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ header.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ shared.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ social-login.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ video-player.scss
â”‚   â”‚       â”‚   â””â”€â”€ video.scss
â”‚   â”‚       â”œâ”€â”€ config
â”‚   â”‚       â”‚   â”œâ”€â”€ _reset.scss
â”‚   â”‚       â”‚   â””â”€â”€ _variable.scss
â”‚   â”‚       â”œâ”€â”€ screens
â”‚   â”‚       â”‚   â”œâ”€â”€ edit-profile.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ home.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ profile.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ search.scss
â”‚   â”‚       â”‚   â”œâ”€â”€ upload.scss
â”‚   â”‚       â”‚   â””â”€â”€ watch.scss
â”‚   â”‚       â””â”€â”€ styles.scss
â”‚   â”œâ”€â”€ controllers : ì„œë²„ì—ì„œ ì‘ë™í•  ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ userController.js
â”‚   â”‚   â””â”€â”€ videoController.js
â”‚   â”œâ”€â”€ db.js
â”‚   â”œâ”€â”€ init.js
â”‚   â”œâ”€â”€ middlewares.js
â”‚   â”œâ”€â”€ models
â”‚   â”‚   â”œâ”€â”€ Comment.js
â”‚   â”‚   â”œâ”€â”€ Like.js
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â””â”€â”€ Video.js
â”‚   â”œâ”€â”€ routers : ê²½ë¡œì— ëŒ€í•œ ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ apiRouter.js
â”‚   â”‚   â”œâ”€â”€ embedRouter.js
â”‚   â”‚   â”œâ”€â”€ rootRouter.js
â”‚   â”‚   â”œâ”€â”€ userRouter.js
â”‚   â”‚   â””â”€â”€ videoRouter.js
â”‚   â”œâ”€â”€ server.js
â”‚   â”œâ”€â”€ views : PUG ë Œë” í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ 404.pug
â”‚   â”‚   â”œâ”€â”€ base.pug
â”‚   â”‚   â”œâ”€â”€ home.pug
â”‚   â”‚   â”œâ”€â”€ mixins
â”‚   â”‚   â”‚   â”œâ”€â”€ hashtag.pug
â”‚   â”‚   â”‚   â”œâ”€â”€ message.pug
â”‚   â”‚   â”‚   â””â”€â”€ video.pug
â”‚   â”‚   â”œâ”€â”€ partials
â”‚   â”‚   â”‚   â”œâ”€â”€ footer.pug
â”‚   â”‚   â”‚   â”œâ”€â”€ header.pug
â”‚   â”‚   â”‚   â””â”€â”€ social-login.pug
â”‚   â”‚   â”œâ”€â”€ users
â”‚   â”‚   â”‚   â”œâ”€â”€ change-password.pug
â”‚   â”‚   â”‚   â”œâ”€â”€ edit-profile.pug
â”‚   â”‚   â”‚   â”œâ”€â”€ join.pug
â”‚   â”‚   â”‚   â”œâ”€â”€ login.pug
â”‚   â”‚   â”‚   â””â”€â”€ profile.pug
â”‚   â”‚   â””â”€â”€ videos
â”‚   â”‚       â”œâ”€â”€ edit.pug
â”‚   â”‚       â”œâ”€â”€ embed.pug
â”‚   â”‚       â”œâ”€â”€ search.pug
â”‚   â”‚       â”œâ”€â”€ upload.pug
â”‚   â”‚       â””â”€â”€ watch.pug
â”‚   â”œâ”€â”€ uploads : ì—…ë¡œë“œ íŒŒì¼ ì €ì¥ í´ë”
â”‚   â”‚   â”œâ”€â”€ avatars
â”‚   â”‚   â””â”€â”€ videos
â”œâ”€â”€ webpack.config.js
â””â”€â”€ yarn.lock
```

## ì—…ë°ì´íŠ¸ ë‚´ì—­ (CHANGELOG)

## nodeJS í”„ë¡œì íŠ¸ ìƒì„±

Githubì—ì„œ repository ìƒì„± í›„ remote ì¶”ê°€, ê·¸ í›„

í„°ë¯¸ë„: `npm init` ì…ë ¥

```javascript
package name: (wetube)
version: (1.0.0)
description: ì„¤ëª….
entry point: (index.js) /* í”„ë¡œì íŠ¸ì˜ ëŒ€í‘œ íŒŒì¼ */
test command:
git repository: (github.com/Hansan529/wetube-reloaded.git)
keywords:
author: /* ì´ë¦„ */
license: (ISC) MIT /* ë¼ì´ì„ ìŠ¤ MIT: ëˆ„êµ¬ë‚˜ ë‚˜ì˜ ì½”ë“œë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. */
About to write to /Users/hansan/Documents/GitHub/wetube/package.json: /* íŒŒì¼ ìƒì„± ìœ„ì¹˜ */
```

ë‚´ìš©ì´ ë§ë‹¤ë©´ ì—”í„°ë¥¼, ìˆ˜ì •í•˜ê³ ì í•˜ë©´ ë³€ê²½ í›„ ì—”í„°ë¥¼ ì…ë ¥í•œë‹¤.

```json
{
  "name": "wetube",
  "version": "1.0.0",
  "description": "The best way to wtach videos.",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/Hansan529/wetube-reloaded.git"
  },
  "author": "",
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/Hansan529/wetube-reloaded/issues"
  },
  "homepage": "https://github.com/Hansan529/wetube-reloaded#readme"
}
```

ì´ì™€ ê°™ì€ ë‚´ìš©ì˜ `package.json` íŒŒì¼ì´ ìƒì„±ëœë‹¤.

<br><br>

---

<br>

## Installing Express

`index.js` íŒŒì¼ì— `console.log("Hello NodeJS");` ë¥¼ ì¶”ê°€í•œë‹¤.  
`package.json` íŒŒì¼ì— `scripts "scripts": { "win": "node index.js" }` ë¥¼ ì¶”ê°€í•œë‹¤.  
<br>

### 1ë²ˆ: nodeë¥¼ ì‚¬ìš©í•œ ë°©ë²•

```
$ node index.js
```

    Hello NodeJS

<br>

### 2ë²ˆ: npmì„ ì‚¬ìš©í•´ packageì—ì„œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê¸°

```
$ npm run win
```

    > wetube@1.0.0 win
    > node index.js

    Hello NodeJS

í”„ë¡œì íŠ¸ í´ë” ì•ˆ ì½˜ì†”ì—ì„œ ë‚´ê°€ ë§Œë“  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.

ì´ë¦„ì€ ì‚¬ìš©ìê°€ ë§ˆìŒëŒ€ë¡œ ì§€ì •í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

<br>

## ì„¤ì¹˜í•˜ê¸°

`npm i express` ì…ë ¥ í›„ ê¸°ë‹¤ë¦¬ë©´ `mode_modules/`, `package-lock.json`ì´ ìƒì„±ëœë‹¤.

package.json / dependencies ì— ìˆëŠ” ê²ƒë“¤ì€ <strong style="color: pink">í”„ë¡œì íŠ¸ë¥¼ êµ¬ë™ì‹œí‚¤ëŠ”ë° í•„ìš”í•œ ëª¨ë“ˆë“¤ì´ë‹¤.</strong> ì„¤ì¹˜ í•  ë•Œ ìë™ìœ¼ë¡œ ì„¤ì¹˜ëœë‹¤.

npmì´ package.json íŒŒì¼ì— í•´ë‹¹ ë‚´ìš©ì„ ìë™ìœ¼ë¡œ ì¶”ê°€í•œë‹¤

```js
"dependencies": {
   "express": "^4.18.2"
 }
```

dependenciesë¼ëŠ” ê²ƒì€, í•´ë‹¹ npmì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™ë˜ê²Œ í•˜ë ¤ë©´ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ì„ ë§í•œë‹¤.

```js
// expressì˜ package.json
"accepts": "~1.3.8",
"array-flatten": "1.1.1",
"body-parser": "1.20.1",
"content-disposition": "0.5.4",
"content-type": "~1.0.4",
"cookie": "0.5.0",
...
```

ê·¸ë˜ì„œ expressë¥¼ ì„¤ì¹˜í•˜ë©´ì„œ dependenciesì— ìˆëŠ” íŒ¨í‚¤ì§€ë“¤ë„ í•¨ê»˜ ì„¤ì¹˜ê°€ ë˜ëŠ” ê²ƒì´ë‹¤.

<br>

`package.json`ì— ìˆëŠ” dependencies ë‚´ìš© ë•ë¶„ì—, node_modules íŒŒì¼ê³¼ package-lock.json íŒŒì¼ì´ ì—†ë”ë¼ë„

`npm i` ë§Œ ì…ë ¥í•´ë„ í•„ìš”í•œ ëª¨ë“ˆì„ ì„¤ì¹˜í•œë‹¤.

```javascript
$ npm i /* dependenciesì— ì‘ì„±ëœ ëª¨ë“ˆì„ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ í•œë‹¤. */


added 57 packages, and audited 58 packages in 631ms

7 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
```

í•´ë‹¹ ê¸°ëŠ¥ ë•ë¶„ì— node_modulesë¥¼ ê³µìœ í•˜ì§€ ì•Šì•„ë„ `package.json`ê³¼ `index.js`(ì‹¤í–‰ë  ìŠ¤í¬ë¦½íŠ¸)ë§Œ ê³µìœ í•˜ë©´

í”„ë¡œì íŠ¸ë¥¼ ê³µìœ  í•  ìˆ˜ ìˆë‹¤.

<br>

## #2.3 The Tower of Babel

ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œë„ ì¶©ëŒ ì—†ì´ ì›í™œí•˜ê²Œ ì‘ë™í•˜ê¸° ìœ„í•´ ì„¤ì¹˜í•´ì¤€ë‹¤.

```
$ npm install --save-dev @babel/core
```

ì„¤ì¹˜í•˜ê²Œ ë˜ë©´ package.json íŒŒì¼ì— "devDependencies" ê³¼ ê°™ì€ íƒœê·¸ì— ì‘ì„±ë˜ìˆëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

devDependenciesëŠ” ê°œë°œìì—ê²Œ í•„ìš”í•œ dependenciesë¼ê³  ì•Œë©´ ëœë‹¤.

dependenciesëŠ” í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ëª¨ë“ˆì´ê³ , devDependenciesëŠ” ê°œë°œìì— í•„ìš”í•œ ëª¨ë“ˆì´ë‹¤.

`--save-dev`ëŠ” devDependencies í…ìŠ¤íŠ¸ ì•ˆì— ë„£ê²Œ í•´ì£¼ëŠ” ì˜µì…˜ì´ë‹¤.

<br>

bableì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¸íŒ…

```
$ touch babel.config.json
```

```json
// babel.config.json
{
  "presets": ["@babel/preset-env"] /* ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆìŒ */
}
```

<br>

preset-envë¥¼ ëª¨ë“ˆì— ì¶”ê°€í•¨ (í”ŒëŸ¬ê·¸ì¸), nodeë¥¼ ëª¨ë“ˆì— ì¶”ê°€

```
$ npm install @babel/preset-env --save-dev
$ npm install @babel/node --save -dev
```

í•œ ë²ˆì— ë‘ê°€ì§€ ì„¤ì¹˜í•˜ê¸°

```
$ npm i @babel/preset-env @babel/node --save-dev
```

devDependenciesì— preset, nodeì„ ì¶”ê°€í•œë‹¤.

<br>

```json
"scripts": {
    "dev": "babel-node index.js"
  }
```

ìë™ìœ¼ë¡œ ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë³€í™˜í•´ì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤. ì´ë¦„ì€ ì„ì˜ë¡œ ì§€ì •í•˜ê³  `babel-node`ë¥¼ ì´ìš©í•˜ì—¬ ë³€í™˜ì‹œí‚¨ ë’¤ ì‹¤í–‰í•œë‹¤.

í•˜ì§€ë§Œ ìˆ˜ì • í•  ë•Œ ë§ˆë‹¤ ì´ë¥¼ ë°˜ë³µí•´ì„œ ì‹¤í–‰í•´ì£¼ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ìˆ˜ì •ë˜ëŠ”ê±¸ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì¬ì‹œì‘ í•´ ì£¼ëŠ” í¸ë¦¬í•œ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•´ë³´ì.

<br>

## #2.4 Nodemon

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì¼ì¼ì´ ë³€í™˜ì„ í•˜ëŠ” ì‘ì—…ì„ í•˜ê³  ì‹¶ì§€ ì•Šê¸°ì—, ì´ë¥¼ package.jsonì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€ë¡œ ì„¤ì¹˜í•œë‹¤.

ìˆ˜ì •ì„ í•œ ë‹¤ìŒì— ë‹¤ì‹œ npm run dev ë¥¼ ë§¤ ë²ˆ ì…ë ¥í•˜ê¸°ëŠ” ë¶ˆ í•„ìš”í•œ ë°˜ë³µì´ê¸°ì— ì´ë¥¼ ëŒ€ì‹ í•´ì£¼ëŠ” ì‘ì—…ì„ í•œë‹¤.

```
$ npm i nodemon --save-dev
```

```json
// ì ìš©í•œ ë‚˜ì˜ package.json
"scripts": {
    "dev": "nodemon --exec babel-node index.js"
  }
```

ì ì°¨ ìˆ˜ì‹ì–´ê°€ ì¶”ê°€ë¡œ ìƒê¸°ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

node -> babel-node -> nodemon --exec

```json
  "dependencies": {
    "express": "^4.18.2"
  },
  "devDependencies": {
    "@babel/core": "^7.20.12",  /* í•µì‹¬ ë°”ë²¨ íŒ¨í‚¤ì§€ */
    "@babel/node": "^7.20.7",   /* ë³€í™˜ íŒ¨í‚¤ì§€ */
    "@babel/preset-env": "^7.20.2", /* í”ŒëŸ¬ê·¸ì¸ */
    "nodemon": "^2.0.20"  /* ìë™ ì¬ì‹œì‘ íŒ¨í‚¤ì§€ */
  }
```

`npm run dev`ë¥¼ í•´ë³´ì.

<br>

```
$ npm run dev

> wetube@1.0.0 dev /* ì´ë¦„@version script */
> nodemon --exec babel-node index.js /* nodemonìœ¼ë¡œ babel-nodeì˜ index.jsë¥¼ ì‹¤í–‰ */

[nodemon] 2.0.20 /* nodemon Ver */
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,json
[nodemon] starting `babel-node index.js`
Hi!
[nodemon] clean exit - waiting for changes before restart
```

nodemonì„ í™œì„±í™” í•œ ê²½ìš°ì—ëŠ” ì½˜ì†”ì´ ì¢…ë£Œë˜ì§€ ì•Šê³  ê³„ì† ìœ ì§€ëœë‹¤. ì´ ìƒíƒœì—ì„œ jsì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  ì €ì¥í•˜ê²Œ ë˜ë©´

ë³€ê²½ ëœ ì ì„ ìë™ìœ¼ë¡œ ì¸ì‹í•´ì„œ ì¬ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤.

<br>

```js
// index.js
import express from "express";

1. console.log("Hi");
2. console.log("ì•ˆë…•");
3. console.log("ì•„ì£¼ ì¢‹ì•„ìš”");

// Terminal
[nodemon] starting `babel-node index.js`
Hi
[nodemon] clean exit - waiting for changes before restart
[nodemon] restarting due to changes...
[nodemon] starting `babel-node index.js`
ì•ˆë…•
[nodemon] clean exit - waiting for changes before restart
[nodemon] restarting due to changes...
[nodemon] starting `babel-node index.js`
ì•„ì£¼ ì¢‹ì•„ìš”
[nodemon] clean exit - waiting for changes before restart
```

nodeë¡œ ì‹¤í–‰í•˜ëŠ” ê²Œ ì•„ë‹Œ, babel-nodeë¡œ ì‹¤í–‰í•˜ê³  ìˆëŠ” ê²°ê³¼ì´ë‹¤. ì´ ë•ë¶„ì— ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.

`node index.JS` : index.jsë¥¼ NodeJSë¡œ ì‹¤í–‰í•œë‹¤.

`babel-node index.js` : ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ í˜¸í™˜ë˜ë„ë¡ babel-nodeë¡œ index.jsë¥¼ ì‹¤í–‰í•œë‹¤.

`nodemon --exec babel-node index.js` : ë§¤ë²ˆ `$ npm run dev` ë¥¼ ì…ë ¥í•˜ê¸°ì—” ë²ˆê±°ë¡œìš°ë‹ˆ ì´ë¥¼ ë°˜ë³µí•˜ëŠ” nodemonì„ í†µí•´ index.jsë¥¼ ì‹¤í–‰í•œë‹¤.

<br>

## #3.0 First Server

src í´ë”ë¥¼ ìƒì„±í•œ í›„, ì½”ë“œì™€ ë¡œì§ì„ ê°€ì§€ê³  ìˆëŠ” íŒŒì¼ì„ ë„£ì–´ì¤€ë‹¤.

index.js íŒŒì¼ì˜ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ì—ˆìœ¼ë‹ˆ, package.json íŒŒì¼ì˜ scripts ì† devì˜ ê²½ë¡œë¥¼ ë³€ê²½í•´ì¤€ë‹¤. `"dev": "nodemon --exec babel-node src/server.js"`

index.jsì˜ ì´ë¦„ì„ server.jsë¡œ ë³€ê²½í•˜ì˜€ë‹¤.

---

jsì— `import express from "express"` ì½”ë“œë¥¼ ì‘ì„±í•´ "express"ë¼ëŠ” packageë¥¼ expressë¼ëŠ” ì´ë¦„ìœ¼ë¡œ importë¥¼ í•œë‹¤.

```js
import express from "express"; /* express íŒ¨í‚¤ì§€ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤. */

const app =
  express(); /* express functionì„ ì‚¬ìš©í•˜ë©´ express applicationì„ ìƒì„±í•´ì¤€ë‹¤. */
```

<br>

ì„œë²„ë¥¼ ìƒì„±í•œ í›„ ì„œë²„ê°€ ìš”ì²­(request)ì„ í•  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” listeningì— ëŒ€í•œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

```js
const handleListening = () =>
  console.log(
    "Server listening on port 4000 ğŸš€"
  ); /* í•´ë‹¹ ì½”ë“œë¥¼ listenì— í•œ ì¤„ì— ë„£ì–´ë„ ì •ìƒ ì‘ë™í•œë‹¤. */

app.listen(
  4000,
  handleListening
); /* 4000ë²ˆì˜ í¬íŠ¸, handleListening í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤. */
```

ë¡œì»¬ ì„œë²„ ë°”ë¡œê°€ê¸° <http://localhost:4000/>

ì„œë²„ëŠ” nodemonì„ ì¢…ë£Œí•˜ë©´ ì¢…ë£Œëœë‹¤.

<br>

## [Express ê¸°ì´ˆ](https://github.com/Hansan529/wetube-reloaded/blob/main/README/express.md)

## [Router](http://github.com/Hansan529/wetube-reloaded/blob/main/README/router.md)

## [Templates](http://github.com/Hansan529/wetube-reloaded/blob/main/README/templates.md)

## [mongoDB](http://github.com/Hansan529/wetube-reloaded/blob/main/README/mongodb.md)

## [User Authentication](http://github.com/Hansan529/wetube-reloaded/blob/main/README/user-authentication.md)

## [User Profile](http://github.com/Hansan529/wetube-reloaded/blob/main/README/user-profile.md)

## [Webpack](http://github.com/Hansan529/wetube-reloaded/blob/main/README/webpack.md)

## [Video Player](http://github.com/Hansan529/wetube-reloaded/blob/main/README/video-player.md)

## Views Api

apiëŠ” back-endê°€ í…œí”Œë¦¿ì„ ë Œë”ë§í•˜ì§€ ì•Šì„ ë•Œ front-endì™€ í†µì‹ í•˜ëŠ” ë°©ë²•ì´ë‹¤.
ê¸°ì¡´ì— pugë¥¼ ì‚¬ìš©í•´ì„œ í…œí”Œë¦¿ì„ back-endì—ì„œ ë Œë”ë§í•˜ê³  ë°±ì—”ë“œê°€ ì¼ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” URLë¥¼ ë³€ê²½í•¨ì— ë”°ë¼ ë³€ê²½ëëŠ”ë°,

apië¥¼ ì‚¬ìš©í•´ì„œ URL ë³€ê²½ ì—†ì´ ìš”ì²­í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```js
export const registerView = async (req, res) => {
  const {
    params: { id },
  } = req;
  const video = await Video.findById(id);
  if (!video) {
    return res.sendStatus(404);
  }
  video.meta.views = video.meta.views + 1;
  await video.save();
  return res.sendStatus(200);
};
```

```js
const handleEnded = async () => {
  const { id } = videoContainer.dataset;
  await fetch(`/api/videos/${id}/view`, {
    method: "POST",
  });
};
video.addEventListener("ended", handleEnded);
```

ê¸°íƒ€ RouterëŠ” ì œì™¸í•œ ì½”ë“œì¸ë°, videoê°€ ì¢…ë£Œë˜ë©´ handleEndedê°€ ì‹¤í–‰ë˜ê³ , fetchë¡œ POST ìš”ì²­ì„ í•´ì„œ meta viewsë¥¼ ëŠ˜ë¦°ë‹¤.

ê·¸ë¦¬ê³  `res.sendStatus(200)` re.status(200) ê³¼ëŠ” ë‹¤ë¥¸ ì ì´, ìƒíƒœì½”ë“œë¥¼ ë³´ë‚´ê³  ì—°ê²°ì„ ëë‚´ëŠ” ê²ƒì´ë¼ ì´ ì ì´ ë‹¤ë¥´ë‹¤.

## [Video Recorder](http://github.com/Hansan529/wetube-reloaded/blob/main/README/video-recorder.md)

## [Webassembly Video Transcode](http://github.com/Hansan529/wetube-reloaded/blob/main/README/webassembly-video-transcode.md)

## [Flash Messages, Comment Section](http://github.com/Hansan529/wetube-reloaded/blob/main/README/comment.md)
